encryption: age
format: yaml
mode: symlink
{{- if stdinIsATTY }}
progress: true
{{- end }}

add:
  templateSymlinks: true

age:
  identity: {{ .chezmoi.homeDir }}/.config/chezmoi/key_pq
  recipient: age1pq1ukkqjs9meuswds44epwdru3alapvx3se07s2rqyl3wg223ntpdjxnd4jrrxjwv3yuygkyaye70vcwnzgrv6kceljvxrx7lrt8y4myym5s6jsqf9mpv6qkemylytmlw9epsrgr0ektp9d8a594dupy6tt98fc0ywkwjwfwsf3he6qcr6zn8ag3ra9cvnwt8zukuwthrxhdy8jsgjf7fceqqrp9kfvyyt2ggn9xtw8cysl2ksaclgk0rsc2x76hnp2vzwq97pjfkk9cjz6fz74nrwlccndl2yfcldg4gkgwwyvws4h4daarp7gyp2udn55ewu3d30hw43gszkpryn22uyvc0hnhg804s06jqa8duvpzzyegp62zxp6cylxvuynt9dfftc5jphxrthlwtxpzdpcdv9h5hk2xyzuxf37ddqwrqmjhfz9lr8vrhr6vkt7gu2gmp5c53avlhpn34yejkezg4l7dq7du7vgczrztcq3vv5dpp8uu6alkyr8dnhfwtslc5609sdktsqyzrjgcjqq5w2as5xkfztgarzpp7e3kfjh48kghxagp3qy4e7yak3530vg325qxc73rsxgmee784fty8a3jyz6904vx9gym4ea7auqy7z846m8q9p4q7pl3lzktaqxz4dkpu6gc50jpsd4lajkcaug6neyp8ldkhttkxkv5wjakcgf86ygnm84vc2xy5n9cx2hf3mvnu0ggff5wg8sk76kt6mh9dqhkw2kylkzvcqyk2ay6srshct4vx3nng7lytklgzlkf4687lzrl74e2s3xhf3dz364szc7fnkteecsq2f6hssj4qrs5wc9grs27yeqff9nk97t4w7qcazvdwakuk3h5du4gwznw55m0f7v8xy4c6dfxumtzs57m3th5sctcstzu9eerdazvexl4xmyzp3h4jdgqpyg2lhafw8hwgqa4pdfs7df398zsjrs2u0gf890fp62gfjcd6es89phwfea9vss7pv3x6gume48wx9zjtzxks3sqccnthxzzy4crhf54wvx7u363av42w4fhghtklpxv8uufq99539eejn5yu849etknwdcrd7x2uwphcu5wpa6yucvh2ky4flvxujz7fqrar3xxgkt5uywuvtf9q9f3dtrxe0pdxcf99uccky3jk9ns44rz89ekd83t8a30zzcxxylypzhzqr4y3qxhnwt9jynkqwf8wc3nk73ssu05y73pptd5p3xhv3k4d9ss0nfgjxlzaef9pkwm7nzrd064ahgyxcql93jrgtejqjyj33832gn4va3q8qp93j2xdf488m4prp4ycue09sfk3jlkxn9s49n549unfd2mz879wcvz02k8nc480wtxrpxaw0ghz2lzy780kypskf4gfqngw3wjn9dl77yz29e5wfqy3ku3xc8e6cl7xascu03kqwzvr6pc7mwzjffa052dzwrp3pfet9p3w04cavxmjgffrnmna0fd2qkuvra55tu3z6ch2qetwshxuyfgsq3gxgdvvstm9vse9l5n2dtcjcm75azgymx3aq6kt9v3vjdqkqtu4fd7rc8rq0q2ayzsudjmrqjsj2m83spp50vnrtyq8kmtqtv3quw3rtn2x9jfezxy659cgav6ptsk9gt0jg2e35uxjh0tdehwc5erytnv2uvwevysve5l94sljxqxuxg6h9q3c22nw3ecg7uh2x9y3mk5hct442a5hzv3dn9hkvar8e4hsgnq7yrx64aw4yafea94yvzsw0ssvu4d8ce0fgchju2fwtc0rgr2hz7zcefs47es2kthrpscmx20xr25s206fjkzalvf3uza8nl53280qyf6x6j2gn2aakuakdadt2va2tluaqam0ycmv2zl3tkdhkl2hufhp75zzg9tz82c89zphxxruyjnskws5dmvvwr6ex9

diff:
  pager: delta --pager="ov -F --section-delimiter '^(added:|removed:|renamed:|Δ)' --section-header --pattern '•'"

data:
  {{ $hostname := promptStringOnce . "hostname" "Name of the machine" "tuandzung" | quote }}
  hostname: {{ $hostname }}
  {{ $kind := promptStringOnce . "kind" "What kind of this machine is it (pc/vm/laptop/...)" "pc" | quote }}
  kind: {{ $kind }}
  {{ $placeChoices := list "HOME" "OFFICE" }}
  {{ $place := promptChoiceOnce . "place" "Where is this machine" $placeChoices "HOME" | quote }}
  place: {{ $place }}
  {{ $dualBoot := promptBoolOnce . "dualBoot" "Does this machine have dual boot (y/n)" false }}
  dualBoot: {{ $dualBoot }}
  {{ $hasSound := promptBoolOnce . "hasSound" "Does this machine have a sound card (y/n)" false }}
  hasSound: {{ $hasSound }}
  {{ $hasBluetooth := promptBoolOnce . "hasBluetooth" "Does this machine have a bluetooth device (y/n)" false }}
  hasBluetooth: {{ $hasBluetooth }}
  {{ $isHeadless := promptBoolOnce . "isHeadless" "Is this machine headless (y/n)" false }}
  isHeadless: {{ $isHeadless }}
  {{ $graphicsChoices := list "NVIDIA" "AMD" "INTEL" }}
  {{ $graphicsDriver := promptChoiceOnce . "graphicsDriver" "Which graphics card this machine uses" $graphicsChoices "INTEL" | quote }}
  graphicsDriver: {{ $graphicsDriver }}
  {{- if not $isHeadless }}
  {{ $browserChoices := list "ZEN" "FIREFOX" }}
  {{ $browser := promptChoiceOnce . "browser" "Which browser do you wanna use" $browserChoices "ZEN" | quote }}
  browser: {{ $browser }}
  darkMode: {{ promptBoolOnce . "darkMode" "Do you want to use dark mode? (y/n)" true }}
  {{ $wmChoices := list "NIRI" "HYPRLAND" }}
  {{ $windowManager := promptChoiceOnce . "windowManager" "Which window manager do you wanna use" $wmChoices "HYPRLAND" | quote }}
  windowManager: {{ $windowManager }}
  {{- end }}

hooks:
  diff:
    pre:
      command: "bash"
      args:
        - -c
        - bash {{ .chezmoi.homeDir }}/.config/update_browser_profiles.sh
